<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Yade-commits] r1307 - trunk/pkg/dem/PreProcessor
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/yade-commits/2008/index.html" >
   <LINK REL="made" HREF="mailto:yade-commits%40lists.berlios.de?Subject=Re%3A%20%5BYade-commits%5D%20r1307%20-%20trunk/pkg/dem/PreProcessor&In-Reply-To=%3C200804101320.m3ADKoHV027827%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000269.html">
   <LINK REL="Next"  HREF="000271.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Yade-commits] r1307 - trunk/pkg/dem/PreProcessor</H1>
    <B>chareyre at BerliOS</B> 
    <A HREF="mailto:yade-commits%40lists.berlios.de?Subject=Re%3A%20%5BYade-commits%5D%20r1307%20-%20trunk/pkg/dem/PreProcessor&In-Reply-To=%3C200804101320.m3ADKoHV027827%40sheep.berlios.de%3E"
       TITLE="[Yade-commits] r1307 - trunk/pkg/dem/PreProcessor">chareyre at mail.berlios.de
       </A><BR>
    <I>Thu Apr 10 15:20:50 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000269.html">[Yade-commits] r1306 - in trunk/pkg/dem: Engine/DeusExMachina	PreProcessor
</A></li>
        <LI>Next message: <A HREF="000271.html">[Yade-commits] r1308 - trunk/pkg/dem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#270">[ date ]</a>
              <a href="thread.html#270">[ thread ]</a>
              <a href="subject.html#270">[ subject ]</a>
              <a href="author.html#270">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: chareyre
Date: 2008-04-10 15:20:49 +0200 (Thu, 10 Apr 2008)
New Revision: 1307

Modified:
   trunk/pkg/dem/PreProcessor/TriaxialTestWater.cpp
   trunk/pkg/dem/PreProcessor/TriaxialTestWater.hpp
Log:
Some cleaning.



Modified: trunk/pkg/dem/PreProcessor/TriaxialTestWater.cpp
===================================================================
--- trunk/pkg/dem/PreProcessor/TriaxialTestWater.cpp	2008-04-10 13:08:04 UTC (rev 1306)
+++ trunk/pkg/dem/PreProcessor/TriaxialTestWater.cpp	2008-04-10 13:20:49 UTC (rev 1307)
@@ -8,6 +8,7 @@
 *  GNU General Public License v2 or later. See file LICENSE for details. *
 *************************************************************************/
 
+
 #include &quot;TriaxialTestWater.hpp&quot;
 
 #include &lt;yade/pkg-dem/ElasticContactLaw.hpp&gt;
@@ -106,12 +107,12 @@
 	wall_4_wire		= true;
 	spheresColor		= Vector3r(0.8,0.3,0.3);
 	spheresRandomColor	= false;
-	recordBottomForce	= true;
-	forceRecordFile		= &quot;./force&quot;;
-	recordAveragePositions	= true;
-	positionRecordFile	= &quot;./position&quot;;
+	//recordBottomForce	= true;
+	//forceRecordFile		= &quot;./force&quot;;
+	//recordAveragePositions	= true;
+	//positionRecordFile	= &quot;./position&quot;;
 	recordIntervalIter	= 100;
-	velocityRecordFile 	= &quot;./velocities&quot;;
+	//velocityRecordFile 	= &quot;./velocities&quot;;
 	wallStressRecordFile	= &quot;./wallStress&quot;;
 	capillaryStressRecordFile	= &quot;./capillaryStress&quot;;
 	contactStressRecordFile	= &quot;./contactStress&quot;;
@@ -122,7 +123,7 @@
 	internalCompaction	=false;
 
 //	bigBall 		= true;
-	bigBall 		= false;
+//	bigBall 		= false;
 	bigBallRadius		= 0.075;
 	bigBallPoissonRatio 	= 0.3;
 	bigBallYoungModulus 	= 10000000.0;
@@ -150,7 +151,7 @@
 	spherePoissonRatio  = 0.2;
 	sphereFrictionDeg   = 18.0;
 	density		    = 2600;
-	Rdispersion 	    = 1.4;
+	Rdispersion 	    = 0.4;
 	
 	boxYoungModulus   = 150000000.0;
 	boxPoissonRatio  = 0.2;
@@ -204,11 +205,11 @@
 	REGISTER_ATTRIBUTE(StabilityCriterion);
 	REGISTER_ATTRIBUTE(autoCompressionActivation);
 
-	REGISTER_ATTRIBUTE(recordBottomForce);
-	REGISTER_ATTRIBUTE(forceRecordFile);
+	//REGISTER_ATTRIBUTE(recordBottomForce);
+	//REGISTER_ATTRIBUTE(forceRecordFile);
 // 	REGISTER_ATTRIBUTE(recordAveragePositions);
-	REGISTER_ATTRIBUTE(positionRecordFile);
-	REGISTER_ATTRIBUTE(velocityRecordFile)
+	//REGISTER_ATTRIBUTE(positionRecordFile);
+	//REGISTER_ATTRIBUTE(velocityRecordFile)
 	REGISTER_ATTRIBUTE(recordIntervalIter);
 	REGISTER_ATTRIBUTE(wallStressRecordFile);
 	REGISTER_ATTRIBUTE(capillaryStressRecordFile);
@@ -272,8 +273,8 @@
 			rootBody-&gt;bodies-&gt;insert(body);
 			triaxialcompressionEngine-&gt;wall_bottom_id
 			= body-&gt;getId();
-			forcerec-&gt;startId = body-&gt;getId();
-			forcerec-&gt;endId   = body-&gt;getId();
+//			forcerec-&gt;startId = body-&gt;getId();
+//			forcerec-&gt;endId   = body-&gt;getId();
 			//triaxialStateRecorder-&gt;wall_bottom_id = body-&gt;getId();
 			capillaryStressRecorder-&gt;wall_bottom_id = body-&gt;getId();
 			contactStressRecorder-&gt;wall_bottom_id = body-&gt;getId();
@@ -484,19 +485,8 @@
 
 void TriaxialTestWater::createActors(shared_ptr&lt;MetaBody&gt;&amp; rootBody)
 {
-// recording average positions
-	averagePositionRecorder = shared_ptr&lt;AveragePositionRecorder&gt;(new AveragePositionRecorder);
-	averagePositionRecorder -&gt; outputFile 		= positionRecordFile;
-	averagePositionRecorder -&gt; interval 		= recordIntervalIter;
-// recording forces
-	forcerec = shared_ptr&lt;ForceRecorder&gt;(new ForceRecorder);
-	forcerec -&gt; outputFile 	= forceRecordFile;
-	forcerec -&gt; interval 	= recordIntervalIter;
-// recording velocities
-	velocityRecorder = shared_ptr&lt;VelocityRecorder&gt;(new VelocityRecorder);
-	velocityRecorder-&gt; outputFile 	= velocityRecordFile;
-	velocityRecorder-&gt; interval 	= recordIntervalIter;
 
+
 // recording global stress
 	triaxialStateRecorder = shared_ptr&lt;TriaxialStateRecorder&gt;(new
 	TriaxialStateRecorder);
@@ -625,19 +615,19 @@
 	rootBody-&gt;engines.push_back(globalStiffnessTimeStepper);
 	//rootBody-&gt;engines.push_back(triaxialstressController);
 	rootBody-&gt;engines.push_back(triaxialcompressionEngine);
-	rootBody-&gt;engines.push_back(forcerec);	
+	//rootBody-&gt;engines.push_back(forcerec);	
 	rootBody-&gt;engines.push_back(triaxialStateRecorder);
 	rootBody-&gt;engines.push_back(contactStressRecorder);
 	rootBody-&gt;engines.push_back(actionDampingDispatcher);
 	rootBody-&gt;engines.push_back(applyActionDispatcher);
 	rootBody-&gt;engines.push_back(positionIntegrator);
-	if(!rotationBlocked)
-		rootBody-&gt;engines.push_back(orientationIntegrator);
+	//if(!rotationBlocked)
+	//	rootBody-&gt;engines.push_back(orientationIntegrator);
 		
 	//rootBody-&gt;engines.push_back(triaxialcompressionEngine);
 		
-	rootBody-&gt;engines.push_back(averagePositionRecorder);
-	rootBody-&gt;engines.push_back(velocityRecorder);
+	//rootBody-&gt;engines.push_back(averagePositionRecorder);
+	//rootBody-&gt;engines.push_back(velocityRecorder);
 	//rootBody-&gt;engines.push_back(forcerec);
 	
 	//rootBody-&gt;engines.push_back(triaxialStateRecorder);

Modified: trunk/pkg/dem/PreProcessor/TriaxialTestWater.hpp
===================================================================
--- trunk/pkg/dem/PreProcessor/TriaxialTestWater.hpp	2008-04-10 13:08:04 UTC (rev 1306)
+++ trunk/pkg/dem/PreProcessor/TriaxialTestWater.hpp	2008-04-10 13:20:49 UTC (rev 1307)
@@ -79,11 +79,11 @@
 				,wall_2_wire
 				,wall_3_wire
 				,wall_4_wire
-				,bigBall
+			//	,bigBall
 				,rotationBlocked
 				,spheresRandomColor
-				,recordBottomForce
-				,recordAveragePositions
+			//	,recordBottomForce
+			//	,recordAveragePositions
 				,boxWalls
 				,internalCompaction;
 
@@ -99,17 +99,14 @@
 				,wall_front_id
 				,wall_back_id;*/
 		
-		string		 forceRecordFile
-				,positionRecordFile
-				,velocityRecordFile
-				,wallStressRecordFile
+		string		wallStressRecordFile
 				,capillaryStressRecordFile
 				,contactStressRecordFile
 				,importFilename;
 	
-		shared_ptr&lt;ForceRecorder&gt; forcerec;
-		shared_ptr&lt;VelocityRecorder&gt; velocityRecorder;
-		shared_ptr&lt;AveragePositionRecorder&gt; averagePositionRecorder;
+		//shared_ptr&lt;ForceRecorder&gt; forcerec;
+		//shared_ptr&lt;VelocityRecorder&gt; velocityRecorder;
+		//shared_ptr&lt;AveragePositionRecorder&gt; averagePositionRecorder;
 		shared_ptr&lt;TriaxialStateRecorder&gt; triaxialStateRecorder;
 		shared_ptr&lt;CapillaryStressRecorder&gt; capillaryStressRecorder;
 		shared_ptr&lt;ContactStressRecorder&gt; contactStressRecorder;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000269.html">[Yade-commits] r1306 - in trunk/pkg/dem: Engine/DeusExMachina	PreProcessor
</A></li>
	<LI>Next message: <A HREF="000271.html">[Yade-commits] r1308 - trunk/pkg/dem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#270">[ date ]</a>
              <a href="thread.html#270">[ thread ]</a>
              <a href="subject.html#270">[ subject ]</a>
              <a href="author.html#270">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/yade-commits">More information about the Yade-commits
mailing list</a><br>
</body></html>
